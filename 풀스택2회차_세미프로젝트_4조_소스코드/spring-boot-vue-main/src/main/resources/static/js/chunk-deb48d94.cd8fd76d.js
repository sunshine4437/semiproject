(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-deb48d94"],{"0506":function(t,e,s){"use strict";s("5626")},5626:function(t,e,s){},"866e":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"basket"},[s("div",{staticClass:"main"},[t._m(0),s("div",{staticClass:"selectDiv"},[s("div",{staticClass:"allSelectDiv"},[s("button",{staticClass:"selectBtn",on:{click:t.allCheck}},[t._v("전체선택")]),s("button",{staticClass:"selectBtn",on:{click:t.allDisCheck}},[t._v("전체해제")]),s("button",{staticClass:"selectBtn",on:{click:t.deleteBasket}},[t._v("선택삭제")])])]),s("div",t._l(t.basket,(function(e,a){return s("div",{key:a,staticClass:"listDiv"},[s("ul",{staticClass:"list"},[s("li",{staticClass:"list1"},[s("div",[s("input",{staticClass:"checkedList",attrs:{type:"checkbox"},on:{click:t.calcPrice}})])]),s("li",{staticClass:"list2"},[s("div",{staticClass:"listImage"},[s("img",{staticClass:"productImage",attrs:{src:"/api/product/productimage/"+e.productno+"/"+e.imagename,alt:""}})])]),s("li",{staticClass:"list3"},[s("div",[s("p",[t._v(t._s(e.productname))]),s("p",[t._v("옵션1 : "+t._s(e.option1))]),s("p",[t._v("옵션2 : "+t._s(e.option2))]),s("p",[t._v("수량 : "+t._s(e.amount))])])]),s("li",{staticClass:"list4"},[s("div",[s("p",{staticClass:"price"},[t._v(t._s(t.AddComma(e.price))+"원")]),s("p",{staticClass:"rate"},[t._v(t._s(t.AddComma(.9*e.price))+"원")])])])])])})),0)]),s("div",{staticClass:"right"},[t._m(1),s("div",{staticClass:"orderBtn"},[s("router-link",{staticClass:"signUpLink",attrs:{to:"/payment"}},[s("button",{on:{click:t.selectList}},[t._v("주문")])])],1)])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title"},[s("h2",[t._v("장바구니")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"inform"},[s("div",{staticClass:"line"},[s("h2",[t._v("결제예정금액")])]),s("div",[s("h3",[t._v("상품금액")]),s("label",{staticClass:"price",attrs:{id:"totalPro"}},[t._v("0원")])]),s("div",[s("h3",[t._v("배송비(선결제)")]),s("label",{staticClass:"price",attrs:{id:"totalDel"}},[t._v("0원")])]),s("div",[s("h3",[t._v("할인금액")]),s("label",{staticClass:"price",staticStyle:{color:"red"},attrs:{id:"totalSale"}},[t._v("0원")])]),s("div",{staticStyle:{color:"red"}},[s("h2",[t._v("합계")]),s("label",{staticClass:"price",staticStyle:{"font-size":"25px"},attrs:{id:"totalSum"}},[t._v("0원")])])])}],l=s("bc3a"),c=s.n(l),d=s("2f62");const n=Object(d["a"])("loginStore"),o=Object(d["a"])("basketList"),r=Object(d["a"])("orderList");var m={data(){return{sum:0,delivery:0,product:0,sale:0,basket:"",checkedBasket:""}},methods:{calcPrice(){let t=document.getElementsByClassName("checkedList"),e=document.getElementById("totalPro"),s=document.getElementById("totalDel"),a=document.getElementById("totalSale"),i=document.getElementById("totalSum");this.product=0,this.delivery=0,this.sale=0,this.sum=0;for(let l=0;l<t.length;l++)1==t[l].checked&&(this.product+=Number(this.basket[l].price),this.sale+=.1*this.basket[l].price,this.sum+=Number(this.basket[l].price));this.sum-this.sale>=5e4||0==this.sum?this.delivery=0:this.delivery=2500,e.textContent=this.AddComma(this.product)+"원",s.textContent=this.AddComma(this.delivery)+"원",a.textContent="-"+this.AddComma(this.sale)+"원",i.textContent=this.AddComma(this.sum+this.delivery-this.sale)+"원"},allCheck(){let t=document.getElementsByClassName("checkedList");for(let e=0;e<t.length;e++)t[e].checked=!0;this.calcPrice()},allDisCheck(){let t=document.getElementsByClassName("checkedList");for(let e=0;e<t.length;e++)t[e].checked=!1;this.calcPrice()},AddComma(t){var e=/\B(?=(\d{3})+(?!\d))/g;return(""+t).toString().replace(e,",")},deleteBasket(){let t=document.getElementsByClassName("checkedList");console.log(1);let e=[];for(let c=t.length-1;c>=0;c--)1==t[c].checked&&e.push(this.basket[c].basketidx);c.a.delete("/api/basket/delete",{data:e}).then(e=>{if(200==e.status){for(let e=t.length-1;e>=0;e--)1==t[e].checked&&(t[e].checked=!1);this.getBasket()}}).catch(t=>{console.log(t.response)});let s=document.getElementById("totalPro"),a=document.getElementById("totalDel"),i=document.getElementById("totalSale"),l=document.getElementById("totalSum");s.textContent="0원",a.textContent="0원",i.textContent="0원",l.textContent="0원"},selectList(){this.clearOrderList();let t=document.getElementsByClassName("checkedList");for(let e=0;e<t.length;e++)1==t[e].checked&&this.addOrderList(this.basket[e])},getBasket(){c()({method:"get",url:"/api/basket/read",params:{id:this.getLogin.user_id}}).then(t=>{this.basket=t.data})},...o.mapMutations(["delList"]),...r.mapMutations(["addOrderList"]),...r.mapMutations(["clearOrderList"]),...o.mapGetters(["getBasketList"]),...n.mapMutations(["Logout"])},computed:{delivery_fee(){return this.sum+this.delivery-this.sale>=5e4?0:2500},...n.mapGetters(["getLogin"])},mounted(){this.getBasket()}},h=m,u=(s("0506"),s("2877")),v=Object(u["a"])(h,a,i,!1,null,"31961be7",null);e["default"]=v.exports}}]);
//# sourceMappingURL=chunk-deb48d94.cd8fd76d.js.map